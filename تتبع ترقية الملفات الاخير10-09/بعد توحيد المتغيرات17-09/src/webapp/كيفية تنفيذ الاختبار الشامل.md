سأشرح لك بالتفصيل كيفية تنفيذ الاختبار الشامل للتأكد من عمل جميع الصفحات بشكل صحيح بعد التعديلات التي أجريناها.

## كيفية تنفيذ الاختبار الشامل

### 1. اختبار صفحة عروض الأسعار (PriceOffersSection)

**الخطوات:**
1. قم بتشغيل التطبيق
2. انتقل إلى صفحة عروض الأسعار
3. قم بإجراء الاختبارات التالية:
   - إدخال عرض سعر جديد مع جميع الحقول المطلوبة
   - تغيير عملة العرض والتأكد من حساب المعادل بالريال اليمني بشكل صحيح
   - تغيير حالة الضريبة (شاملة/غير شاملة) والتأكد من إعادة الحساب بشكل صحيح
   - إدخال تفاصيل الأصناف والتأكد من تطابق الإجمالي مع المبلغ المدخل
   - تعديل عرض موجود والتأكد من حفظ التغييرات

**المتوقع:**
- يجب أن تعمل جميع الحسابات باستخدام الدوال الموحدة من ملف calculations.ts
- يجب أن يتم التحقق من تطابق المبالغ بشكل صحيح
- يجب أن يتم حفظ التغييرات في قاعدة البيانات بشكل صحيح

### 2. اختبار صفحة التوصيات (RecommendationSection)

**الخطوات:**
1. بعد إدخال عروض الأسعار، انتقل إلى صفحة التوصيات
2. قم بإجراء الاختبارات التالية:
   - اختيار مورد للتوصية وإلغاء الاختيار
   - التأكد من حساب المبلغ المرسى عليه بشكل صحيح
   - التأكد من حساب الإجمالي بالريال اليمني بشكل صحيح
   - تعديل المبلغ يدوياً والتأكد من حفظ التغييرات
   - إنشاء رسائل الترسية والتأكد من احتوائها على المبالغ الصحيحة

**المتوقع:**
- يجب أن يتم حساب المبالغ المرسى عليها باستخدام الدوال الموحدة
- يجب أن يتم تحديث الإجماليات بشكل صحيح عند إضافة أو إزالة الموردين
- يجب أن تحتوي رسائل الترسية على المبالغ الصحيحة بالعملتين

### 3. اختبار صفحة المقارنة (ComparisonPage)

**الخطوات:**
1. انتقل إلى صفحة المقارنة
2. قم بإجراء الاختبارات التالية:
   - التأكد من ظهور الصفحة دون أخطاء
   - التحقق من عرض جميع الموردين والأصناف بشكل صحيح
   - التحقق من حساب فروق الأسعار بشكل صحيح
   - التحقق من عرض النسب المئوية للفرق بين الأسعار
   - التحقق من عرض المواصفات والملاحظات بشكل صحيح

**المتوقع:**
- يجب أن تظهر الصفحة دون أخطاء
- يجب أن يتم حساب فروق الأسعار على مستوى سعر الوحدة بشكل صحيح
- يجب أن يتم عرض النسب المئوية بشكل صحيح
- يجب أن يتم عرض المواصفات والملاحظات بشكل صحيح

### 4. اختبار عملية استيراد طلبات الشراء القديمة

**الخطوات:**
1. قم باستيراد طلب شراء قديم من قاعدة البيانات
2. انتقل إلى جميع الصفحات (عروض الأسعار، التوصيات، المقارنة)
3. تحقق من أن جميع البيانات تظهر بشكل صحيح
4. تحقق من أن جميع الحسابات تتم بشكل صحيح

**المتوقع:**
- يجب أن يتم استيراد البيانات بشكل صحيح
- يجب أن تعمل جميع الحسابات بشكل صحيح مع البيانات المستوردة
- يجب أن تظهر جميع الصفحات بشكل صحيح

### 5. اختبار عملية الحفظ والاسترجاع

**الخطوات:**
1. قم بإنشاء طلب شراء جديد
2. أدخل جميع البيانات المطلوبة
3. احفظ الطلب في قاعدة البيانات
4. أغلق التطبيق وأعد فتحه
5. استرجع الطلب المحفوظ
6. تحقق من أن جميع البيانات والحسابات لا تزال صحيحة

**المتوقع:**
- يجب أن يتم حفظ البيانات بشكل صحيح
- يجب أن يتم استرجاع البيانات بشكل صحيح
- يجب أن تعمل جميع الحسابات بشكل صحيح مع البيانات المسترجعة

### 6. اختبار الحالات الحدية

**الخطوات:**
1. اختبر الحالات التالية:
   - إدخال قيم صفرية أو سالبة
   - استخدام عملات مختلفة
   - تغيير أسعار الصرف
   - إدخال كميات كبيرة جداً
   - إدخال نصوص طويلة في حقول المواصفات

**المتوقع:**
- يجب أن يتعامل التطبيق مع الحالات الحدية بشكل صحيح
- يجب أن تظهر رسائل خطأ مناسبة عند إدخال قيم غير صالحة
- يجب أن تستمر الحسابات في العمل بشكل صحيح

### 7. التحقق من وحدة التحكم (Console)

**الخطوات:**
1. افتح أدوات المطور في المتصفح
2. انتقل إلى تبويب Console
3. قم بتنفيذ جميع العمليات السابقة
4. راقب أي رسائل خطأ أو تحذير تظهر في وحدة التحكم

**المتوقع:**
- يجب ألا تظهر أي رسائل خطأ في وحدة التحكم
- يجب ألا تظهر أي رسائل تحذير غير متوقعة

### 8. اختبار الأداء

**الخطوات:**
1. راقب أداء التطبيق أثناء تنفيذ العمليات المختلفة
2. انتبه لأي بطء في الاستجابة
3. تحقق من استخدام الذاكرة ووحدة المعالجة المركزية

**المتوقع:**
- يجب أن يعمل التطبيق بسلاسة دون بطء ملحوظ
- يجب أن يكون استخدام الذاكرة ووحدة المعالجة المركزية ضمن الحدود المقبولة

## أدوات الاختبار

يمكنك استخدام الأدوات التالية للمساعدة في الاختبار:

1. **أدوات المطور في المتصفح**:
   - Console للتحقق من الأخطاء
   - Network للتحقق من الطلبات والاستجابات
   - Performance لمراقبة أداء التطبيق

2. **React Developer Tools**:
   - لفحص مكونات React وحالتها
   - لتحليل أداء المكونات

3. **قاعدة بيانات الاختبار**:
   - أنشئ قاعدة بيانات اختبار تحتوي على مختلف حالات الاختبار
   - استخدمها لاختبار سيناريوهات مختلفة

## تقرير الاختبار

بعد إجراء الاختبارات، قم بإنشاء تقرير يحتوي على:

1. **قائمة بالاختبارات التي تم إجراؤها**
2. **نتائج كل اختبار** (نجاح/فشل)
3. **أي مشاكل تم اكتشافها**
4. **أي تحسينات مقترحة**
5. **لقطات شاشة لأي مشاكل**

هذا التقرير سيساعدك في تتبع حالة التطبيق وضمان عمله بشكل صحيح بعد التعديلات.